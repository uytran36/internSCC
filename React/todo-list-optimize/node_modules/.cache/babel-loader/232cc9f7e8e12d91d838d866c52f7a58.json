{"ast":null,"code":"var _jsxFileName = \"D:\\\\internSCC\\\\React\\\\todo-list-optimize\\\\src\\\\components\\\\Paging.js\",\n    _s = $RefreshSig$();\n\nimport { React, useEffect, useState } from \"react\";\nimport \"./TodoNew.css\";\nimport axios from \"axios\";\nimport { Table } from \"antd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Paging() {\n  _s();\n\n  const [contacts, setContacts] = useState([]);\n  const [paramsContact, setParamsContact] = useState({\n    limit: 5,\n    offset: 0\n  });\n  const [loading, setLoading] = useState(false);\n\n  const fetch = page => {\n    setLoading(true);\n    axios.get(\"https://gateway.smartcontactcenter.xyz/smart-contact-center-contact-list-management/api/v1/omni-contact-list-normalizations\", {\n      params: {\n        filter: {\n          limit: page.limit,\n          offset: page.offset\n        }\n      }\n    }).then(res => {\n      let params = res.data.pop();\n      setContacts(res.data);\n      setParamsContact({\n        limit: params.limit,\n        offset: params.offset,\n        total: params.total\n      });\n      setLoading(false);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    fetch(paramsContact);\n  }, []);\n\n  const handleTableChange = (page, pageSize) => {\n    let currentPage = {\n      current: (page.current - 1) * page.pageSize,\n      pageSize: pageSize\n    };\n    console.log(page);\n    fetch(currentPage);\n  }; //define table\n\n\n  const columns = [{\n    title: \"id\",\n    dataIndex: \"id\",\n    key: \"id\",\n    width: \"15%\"\n  }, {\n    title: \"Họ tên\",\n    dataIndex: \"ho_va_ten\",\n    key: \"ho_va_ten\"\n  }, {\n    title: \"Số điện thoại\",\n    dataIndex: \"sdt\",\n    key: \"sdt\"\n  }, {\n    title: \"Giới tính\",\n    dataIndex: \"gender\",\n    key: \"gender\"\n  }]; //define data for table\n\n  const data = contacts;\n  const tablePagination = {\n    pageSize: paramsContact.limit,\n    page: paramsContact.offset / paramsContact.limit + 1,\n    total: paramsContact.total,\n    pageSizeOptions: [\"5\", \"10\", \"15\", \"20\", \"25\"],\n    showSizeChanger: true\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"TodoNew\",\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: data,\n      pagination: tablePagination,\n      loading: loading,\n      onChange: handleTableChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Paging, \"rG+2U6P/0QIOjcIF/tSEZgeVeho=\");\n\n_c = Paging;\nexport default Paging;\n\nvar _c;\n\n$RefreshReg$(_c, \"Paging\");","map":{"version":3,"sources":["D:/internSCC/React/todo-list-optimize/src/components/Paging.js"],"names":["React","useEffect","useState","axios","Table","Paging","contacts","setContacts","paramsContact","setParamsContact","limit","offset","loading","setLoading","fetch","page","get","params","filter","then","res","data","pop","total","catch","err","console","log","handleTableChange","pageSize","currentPage","current","columns","title","dataIndex","key","width","tablePagination","pageSizeOptions","showSizeChanger"],"mappings":"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","sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport \"./TodoNew.css\";\r\nimport axios from \"axios\";\r\nimport { Table } from \"antd\";\r\n\r\nfunction Paging() {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [paramsContact, setParamsContact] = useState({ limit: 5, offset: 0 });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetch = (page) => {\r\n    setLoading(true);\r\n    axios\r\n      .get(\r\n        \"https://gateway.smartcontactcenter.xyz/smart-contact-center-contact-list-management/api/v1/omni-contact-list-normalizations\",\r\n        {\r\n          params: {\r\n            filter: {\r\n              limit: page.limit,\r\n              offset: page.offset,\r\n            },\r\n          },\r\n        }\r\n      )\r\n      .then((res) => {\r\n        let params = res.data.pop();\r\n        setContacts(res.data);\r\n        setParamsContact({\r\n          limit: params.limit,\r\n          offset: params.offset,\r\n          total: params.total,\r\n        });\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetch(paramsContact);\r\n  }, []);\r\n\r\n  const handleTableChange = (page, pageSize) => {\r\n    let currentPage = {\r\n      current: (page.current - 1) * page.pageSize,\r\n      pageSize: pageSize,\r\n    };\r\n    console.log(page);\r\n    fetch(currentPage);\r\n  };\r\n\r\n  //define table\r\n  const columns = [\r\n    {\r\n      title: \"id\",\r\n      dataIndex: \"id\",\r\n      key: \"id\",\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: \"Họ tên\",\r\n      dataIndex: \"ho_va_ten\",\r\n      key: \"ho_va_ten\",\r\n    },\r\n    {\r\n      title: \"Số điện thoại\",\r\n      dataIndex: \"sdt\",\r\n      key: \"sdt\",\r\n    },\r\n    {\r\n      title: \"Giới tính\",\r\n      dataIndex: \"gender\",\r\n      key: \"gender\",\r\n    },\r\n  ];\r\n\r\n  //define data for table\r\n  const data = contacts;\r\n  const tablePagination = {\r\n    pageSize: paramsContact.limit,\r\n    page: paramsContact.offset / paramsContact.limit + 1,\r\n    total: paramsContact.total,\r\n    pageSizeOptions: [\"5\", \"10\", \"15\", \"20\", \"25\"],\r\n    showSizeChanger: true,\r\n  };\r\n  return (\r\n    <div className=\"TodoNew\">\r\n      <Table\r\n        columns={columns}\r\n        dataSource={data}\r\n        pagination={tablePagination}\r\n        loading={loading}\r\n        onChange={handleTableChange}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paging;\r\n"]},"metadata":{},"sourceType":"module"}